\doxysection{basic\+\_\+task\+\_\+example.\+cpp}
\hypertarget{basic_task_example_8cpp-example}{}\label{basic_task_example_8cpp-example}\hypertarget{examples.dox_autotoc_md32}{}\doxysubsubsection{\texorpdfstring{Basic Task Creation and Management}{Basic Task Creation and Management}}\label{examples.dox_autotoc_md32}
This example demonstrates how to create and manage Free\+RTOS tasks using the modern C++ wrapper classes.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}freertos.hpp"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Create\ a\ simple\ worker\ task}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{classfreertos_1_1task}{freertos::task<1024>}}\ worker\_task(\textcolor{stringliteral}{"{}Worker"{}},\ 3,\ []()\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ counter\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Worker\ task\ iteration:\ \%d\(\backslash\)n"{}},\ ++counter);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ std::this\_thread::sleep\_for(std::chrono::seconds(1));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Create\ a\ periodic\ task\ that\ runs\ every\ 500ms}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{classfreertos_1_1periodic__task}{freertos::periodic\_task<512>}}\ timer\_task(\textcolor{stringliteral}{"{}Timer"{}},\ 2,\ 500ms,\ []()\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ timer\_count\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Timer\ task\ execution\ \#\%d\(\backslash\)n"{}},\ ++timer\_count);}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Start\ the\ FreeRTOS\ scheduler}}
\DoxyCodeLine{\ \ \ \ vTaskStartScheduler();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCodeInclude}{0}

\end{DoxyCodeInclude}
 